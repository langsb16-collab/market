# EventBET - 최근 등록순 정렬 기능 테스트 안내

## ✅ 구현된 기능

### 1. **최근 등록순 정렬 버튼 추가**
- 위치: 메인 페이지 "인기 마켓" 섹션 상단
- 버튼 순서: **최근등록순** → 결과발표일 → 배팅규모 → 이용객 숫자
- 기본 선택: **최근등록순** (파란색으로 활성화됨)

### 2. **정렬 로직**
- **최근등록순**: `publishedAt` 또는 `createdAt` 기준으로 최신순 정렬
- **결과발표일**: `resolve_date` 기준 오름차순 (가장 빠른 날짜부터)
- **배팅규모**: `total_volume` 기준 내림차순 (높은 금액부터)
- **이용객 숫자**: `participants` 기준 내림차순 (많은 수부터)

### 3. **관리자 이슈 우선순위**
- 관리자가 등록한 이슈(`status: 'published'`)는 항상 최상단에 표시
- 다른 정렬 옵션을 선택해도 관리자 이슈가 먼저 표시됨
- **최근등록순**을 선택하면 모든 이슈가 등록일 기준으로 정렬됨

---

## 🧪 테스트 방법

### 1단계: 관리자 페이지에서 이슈 등록

1. **관리자 페이지 접속**: https://cashiq.my/admin/
2. **GitHub 설정** (최초 1회):
   - "설정" 탭 클릭
   - GitHub Token 입력
   - Owner: `langsb16-collab`
   - Repository: `market`
3. **이슈 관리** 탭으로 이동
4. **"일괄 등록" 버튼** 클릭
5. 새 이슈 입력:
   - 제목 (4개 언어)
   - 카테고리 선택
   - 결과 발표일
   - 배팅액
6. ✅ **"등록 후 즉시 메인 사이트에 공개" 체크박스 확인**
7. **"일괄 등록" 버튼** 클릭

### 2단계: 메인 사이트 확인 (1-2분 후)

1. **메인 페이지 접속**: https://cashiq.my/
2. 페이지 새로고침 (Ctrl+F5 또는 Cmd+Shift+R)
3. **"최근등록순" 버튼이 파란색으로 활성화되어 있는지 확인**
4. **방금 등록한 이슈가 최상단에 표시되는지 확인**

### 3단계: 정렬 기능 테스트

1. **"결과발표일" 버튼 클릭**
   - 이슈들이 `resolve_date` 기준으로 정렬됨
   - 관리자 이슈가 여전히 최상단에 있음
2. **"배팅규모" 버튼 클릭**
   - 이슈들이 `total_volume` 기준으로 정렬됨
3. **"이용객 숫자" 버튼 클릭**
   - 이슈들이 `participants` 기준으로 정렬됨
4. **"최근등록순" 버튼 다시 클릭**
   - 모든 이슈가 등록일 기준 최신순으로 정렬됨
   - 관리자 이슈가 최상단에 표시됨

---

## 🔍 예상 결과

### 최근등록순 선택 시:
```
[관리자 이슈 1 - 가장 최근 등록]
[관리자 이슈 2 - 두 번째 최근]
[일반 이슈 1 - 가장 최근]
[일반 이슈 2 - 두 번째 최근]
...
```

### 다른 정렬 선택 시:
```
[관리자 이슈들 - 선택된 기준으로 정렬]
[일반 이슈들 - 선택된 기준으로 정렬]
```

---

## 🐛 문제 해결

### 이슈가 메인 사이트에 표시되지 않을 경우:

1. **GitHub Pages 배포 대기**: 1-2분 후 다시 시도
2. **브라우저 캐시 삭제**: Ctrl+F5 또는 Cmd+Shift+R
3. **관리자 페이지에서 상태 확인**:
   - "이슈 관리" 탭에서 이슈 목록 확인
   - 상태가 "공개됨"(초록색)인지 확인
   - "대기중"(노란색)이면 "메인 사이트에 반영" 버튼 클릭

### 검색 기능 테스트:

1. 관리자 페이지 → 이슈 관리
2. 검색창에 키워드 입력 (예: "윤석렬", "비트코인" 등)
3. 결과가 필터링되어 표시되는지 확인

---

## 📊 현재 배포 상태

- **GitHub Repository**: https://github.com/langsb16-collab/market
- **메인 사이트**: https://cashiq.my/
- **관리자 페이지**: https://cashiq.my/admin/
- **최신 커밋**: "Feature: Add 'Recently Added' sorting - Admin issues appear at top by default"

---

## 🎯 다음 테스트 순서

1. ✅ 관리자 페이지에서 테스트 이슈 등록
2. ✅ 메인 사이트에서 "최근등록순" 버튼 확인
3. ✅ 새로 등록한 이슈가 최상단에 표시되는지 확인
4. ✅ 다른 정렬 버튼 클릭 시 정상 작동하는지 확인
5. ✅ 검색 기능이 정상 작동하는지 확인

