# EventBET - 탈중앙화 예측 시장 플랫폼

## 프로젝트 개요

**EventBET**은 Polymarket을 개선한 탈중앙화 예측 시장 플랫폼입니다. 사용자들은 세계 각국의 정치, 경제, 스포츠, 기술 등 다양한 이슈의 결과를 예측하고 암호화폐로 베팅할 수 있습니다.

**현재 167개의 실제 예측 마켓이 활성화되어 있으며, 각 카테고리별로 미국, 중국, 일본, 한국의 최신 언론 및 SNS 이슈를 다루고 있습니다.**

### 주요 기능

✅ **라이트/다크 모드**: 흰색 배경에 검정 글씨 / 검정 배경에 하얀 글씨 자동 전환  
✅ **다국어 지원**: 한국어, 영어, 중국어, 일본어 완벽 지원  
✅ **암호화폐 결제**: Bitcoin(BTC), Ethereum(ETH), Tether(USDT) 지원  
✅ **반응형 디자인**: PC와 모바일 모두 최적화된 UI  
✅ **실시간 확률**: 베팅량에 따른 실시간 확률 업데이트  
✅ **투명한 정산**: 명확한 정산 기준과 베팅 내역 추적  
✅ **다양한 카테고리**: 정치, 스포츠, 기술, 암호화폐, 경제, 과학 등

## Polymarket 대비 개선 사항

### 1. **투명성 강화**
- ✅ 명확한 정산 기준 (Resolution Criteria) 다국어 제공
- ✅ 실시간 베팅 내역 및 확률 변동 추적
- ✅ 수수료 구조 명시적 표시

### 2. **보안 개선**
- ✅ 지갑 주소 기반 탈중앙화 인증
- ✅ 트랜잭션 해시 투명성
- ✅ Cloudflare D1 데이터베이스로 데이터 무결성 보장

### 3. **사용자 경험 향상**
- ✅ 모바일 최적화 (작은 글자, 터치 친화적 UI)
- ✅ 다국어 완벽 지원 (UI와 콘텐츠 모두)
- ✅ 직관적인 베팅 프로세스
- ✅ 실시간 잠재 수익 계산
- ✅ 라이트/다크 모드 토글 (사용자 선호도 저장)

### 4. **디자인 개선**
- ✅ **라이트 모드**: 흰색 배경에 검정 글씨 (기본)
- ✅ **다크 모드**: 검정 배경에 하얀 글씨 (토글 가능)
- ✅ 블루 계열 액센트 컬러로 가독성 향상
- ✅ 그라데이션과 호버 효과로 현대적인 UI
- ✅ 카드 기반 레이아웃으로 정보 가독성 향상
- ✅ PC와 모바일 모두 동일한 테마 적용

## 기술 스택

### Backend
- **Hono Framework**: 경량 고성능 웹 프레임워크
- **Cloudflare Workers**: 엣지 컴퓨팅 플랫폼
- **Cloudflare D1**: 글로벌 분산 SQLite 데이터베이스

### Frontend
- **Vanilla JavaScript**: 빠른 로딩과 최적화
- **TailwindCSS**: 반응형 디자인
- **Font Awesome**: 아이콘 라이브러리
- **Axios**: HTTP 클라이언트

### 암호화폐 통합
- Bitcoin (BTC)
- Ethereum (ETH)
- Tether USDT

## 데이터베이스 구조

### 주요 테이블

1. **users**: 사용자 지갑 주소 및 선호 언어
2. **categories**: 마켓 카테고리 (다국어)
3. **events**: 예측 이벤트 (다국어 제목/설명/정산기준)
4. **outcomes**: 각 이벤트의 결과 옵션 (다국어)
5. **bets**: 사용자 베팅 내역
6. **transactions**: 암호화폐 트랜잭션 기록

### 데이터 흐름

```
사용자 → 지갑 연결 → 이벤트 선택 → 결과 선택 → 암호화폐 베팅 
→ 트랜잭션 기록 → 확률 업데이트 → 정산 → 수익 지급
```

## URL 및 접속 정보

### 개발 서버 (Sandbox)
- **URL**: https://3000-ild5d3zcdl6lba9yuhpn5-3844e1b6.sandbox.novita.ai
- **상태**: ✅ Active

### API 엔드포인트

#### 카테고리
- `GET /api/categories?lang={en|ko|zh|ja}` - 카테고리 목록

#### 이벤트
- `GET /api/events?lang={lang}&category={slug}` - 이벤트 목록
- `GET /api/events/:id?lang={lang}` - 특정 이벤트 상세

#### 베팅
- `POST /api/bets` - 베팅 생성
- `GET /api/bets/:wallet?lang={lang}` - 사용자 베팅 내역

#### 다국어
- `GET /api/translations/:lang` - 번역 데이터

## 사용 방법

### 1. 마켓 탐색 (지갑 연결 불필요) 🆕
- 카테고리별 필터링
- 인기 마켓 확인 (거래량 순)
- 각 이벤트의 결과 확률 확인
- **이벤트 클릭하여 상세 정보 확인 가능** (지갑 없이도 가능)
- 결과별 확률 및 잠재 수익 미리보기

### 2. 지갑 연결 (베팅 시에만 필요)
- 우측 상단 "Connect Wallet" 버튼 클릭
- 본인의 지갑 주소 입력 (0x로 시작하는 42자리)
- 실제 서비스에서는 MetaMask 등 Web3 지갑 연동

### 3. 베팅하기
- 원하는 이벤트의 결과 클릭
- **지갑이 연결되지 않은 경우**: 
  - 상세 정보 확인 가능
  - "Connect Wallet to Place Bet" 버튼 표시
  - 입력 폼은 비활성화 상태
- **지갑이 연결된 경우**:
  - 암호화폐 선택 (BTC, ETH, USDT)
  - 베팅 금액 입력 (USD 기준)
  - 예상 수익 확인 후 베팅

### 4. 베팅 내역 확인
- "My Bets" 섹션에서 모든 베팅 추적
- 현재 확률과 베팅 시점 확률 비교
- 예상 수익 실시간 확인

## 로컬 개발 환경 설정

### 필수 요구사항
- Node.js 18+
- npm 또는 pnpm

### 설치 및 실행

```bash
# 저장소 클론
git clone https://github.com/YOUR_USERNAME/webapp.git
cd webapp

# 의존성 설치
npm install

# 빌드
npm run build

# 로컬 데이터베이스 마이그레이션
npm run db:migrate:local

# 샘플 데이터 삽입
npm run db:seed

# 개발 서버 실행
npm run dev:sandbox
```

### PM2로 실행

```bash
# PM2로 시작
pm2 start ecosystem.config.cjs

# 로그 확인
pm2 logs webapp --nostream

# 재시작
fuser -k 3000/tcp 2>/dev/null || true
pm2 restart webapp

# 중지
pm2 stop webapp
```

## 배포

### Cloudflare Pages 배포

```bash
# Cloudflare API 키 설정 필요
# Deploy 탭에서 API 키 설정

# 프로덕션 데이터베이스 생성
npx wrangler d1 create webapp-production

# wrangler.jsonc에 database_id 업데이트

# 프로덕션 마이그레이션
npm run db:migrate:prod

# 배포
npm run deploy:prod
```

### GitHub Pages 배포

```bash
# GitHub 환경 설정
# #github 탭에서 인증 완료

# Git 커밋
git add .
git commit -m "Production ready"

# GitHub에 푸시
git remote add origin https://github.com/YOUR_USERNAME/webapp.git
git push -u origin main
```

## 프로젝트 구조

```
webapp/
├── src/
│   └── index.tsx           # Hono 백엔드 API & 메인 페이지
├── public/
│   └── static/
│       └── app.js          # 프론트엔드 JavaScript
├── migrations/
│   └── 0001_initial_schema.sql  # 데이터베이스 스키마
├── seed.sql                # 샘플 데이터
├── wrangler.jsonc          # Cloudflare 설정
├── ecosystem.config.cjs    # PM2 설정
├── package.json            # 의존성 및 스크립트
└── README.md               # 문서
```

## 현재 완료된 기능

✅ **167개의 실제 예측 마켓** - 미국, 중국, 일본, 한국 4개국 언론 및 SNS 기반 최신 이슈  
✅ **다국어 지원** (한/영/중/일) - 모든 이벤트와 UI 번역  
✅ **카테고리별 이벤트 필터링** - 8개 주요 카테고리  
✅ **실시간 확률 및 거래량 표시** - 동적 업데이트  
✅ **암호화폐 베팅** (BTC, ETH, USDT) - 다중 암호화폐 지원  
✅ **지갑 연결 및 사용자 베팅 내역** - 개인화된 대시보드  
✅ **모바일 반응형 디자인** - PC와 모바일 완벽 대응 (최적화 완료)  
✅ **라이트/다크 모드** - 흰색/검정 배경 토글  
✅ **베팅 시뮬레이션** - 실시간 수익 계산기  
✅ **Polymarket 스타일 UX** - 직관적인 베팅 프로세스  
✅ **사용자 이슈 등록 기능** - 사용자가 직접 예측 마켓 이슈 제출 가능  
✅ **지갑 없이 마켓 조회 가능** 🆕 - 지갑 연결 없이도 모든 마켓 상세 정보 확인 가능, 베팅 시에만 지갑 필요  
✅ **지갑 없이 이슈 등록 폼 조회 가능** 🆕 - 지갑 연결 없이도 이슈 제출 폼 확인 가능, 실제 제출 시에만 지갑 필요  

## 🆕 사용자 이슈 등록 기능

사용자가 직접 예측 마켓 이슈를 제출할 수 있는 기능이 추가되었습니다:

### 제출 항목

**필수 항목:**
- 📝 **이슈 제목** (한국어, 영어, 중국어, 일본어)
- ✅ **결정 사항**: Yes/No (예/아니오) 자동 4개 언어 변환
- 💰 **1인당 배팅 한도**: 
  - 암호화폐 선택: BTC, ETH, USDT
  - 범위: 1개 ~ 1,000개

**운영자 전용 (비공개):**
- 🔒 **배당받을 지갑 주소** (0x...)
- 📧 **이메일** (선택사항)
- 👤 **닉네임** (선택사항)

**선택 항목:**
- 📄 **이슈 설명** (4개 언어)

### 사용 방법

1. **이슈 등록 버튼 클릭** 🆕: 우측 상단 "이슈 등록" 버튼 클릭 (지갑 연결 불필요)
2. **제출 폼 조회** 🆕: 
   - 지갑 없이도 제출 폼 확인 가능
   - 모든 입력 필드 및 요구사항 미리 확인
   - 지갑이 연결되지 않은 경우 입력 필드 비활성화
3. **지갑 연결** (제출 시 필요):
   - 지갑 연결 버튼 클릭
   - 지갑 주소 입력 (0x로 시작하는 42자리)
   - 지갑 연결 후 자동으로 입력 필드 활성화
4. **정보 입력**: 
   - 4개 언어로 이슈 제목 작성
   - 암호화폐 및 배팅 한도 설정
   - 지갑 주소 등 운영자 정보 입력 (자동 입력됨)
5. **제출**: 제출 후 운영자 검토 대기
6. **승인**: 운영자가 승인하면 메인 마켓에 게시

### 제출 상태

- ⏳ **pending**: 검토 대기 중
- ✅ **approved**: 승인됨 (메인 마켓에 게시)
- ❌ **rejected**: 거부됨 (운영자 메모 확인)

### API 엔드포인트

- `POST /api/submissions` - 이슈 제출
- `GET /api/submissions/:wallet` - 사용자의 제출 내역 조회

## 향후 개발 계획

⏳ 관리자 대시보드 (사용자 제출 이슈 승인/거부)  
⏳ 실제 Web3 지갑 통합 (MetaMask, WalletConnect)  
⏳ 스마트 컨트랙트 배포 (자동 정산)  
⏳ 실시간 암호화폐 환율 API 연동  
⏳ 오라클 통합 (Chainlink 등)  
⏳ 소셜 공유 기능  
⏳ 사용자 평판 시스템  
⏳ 고급 차트 및 통계  

## 라이선스

MIT License

## 기여

기여는 언제나 환영합니다! Pull Request를 보내주세요.

## 문의

문제가 발생하면 GitHub Issues를 통해 문의해주세요.

---

**Made with ❤️ using Hono + Cloudflare Workers**

## 🎯 실제 예측 마켓 (167 Events)

플랫폼에는 현재 **167개의 실제 예측 마켓**이 활성화되어 있습니다. 모든 이벤트는 미국, 중국, 일본, 한국 4개국의 언론 매체 및 SNS를 기반으로 선정되었습니다.

### 정치 (Politics) - 10+ 마켓
- 🇺🇸 2024 미국 대선: 트럼프 vs 바이든
- 🇰🇷 한국 대통령 지지율 40% 이상?
- 🇬🇧 영국 EU 단일시장 재가입?
- 🇨🇳 시진핑 2027년 이후 주석 유지?
- 🌍 NATO 우크라이나 회원국 가입?
- 🇮🇳 인도 GDP 중국 추월?
- 🇵🇸 팔레스타인 UN 국가 승인?

### 스포츠 (Sports) - 10+ 마켓
- ⚽ 레알 마드리드 2025 챔피언스리그 우승?
- 🏃 음바페 레알 마드리드 이적?
- ⚾ 오타니 2025 MLB MVP 수상?
- 🏆 아르헨티나 코파 아메리카 우승?
- 🏀 르브론 제임스 NBA 은퇴?
- ⚽ 손흥민 사우디 리그 이적?
- 🎾 나달 2025 프랑스 오픈 우승?

### 기술 (Technology) - 10+ 마켓
- 🍎 애플 비전 프로 2 출시?
- 🚗 테슬라 완전 자율주행 유럽 승인?
- 🥽 메타 AR 스마트 안경 출시?
- 🤖 OpenAI 기업가치 $150B 초과?
- 🔍 구글 제미나이 ChatGPT 사용자 초과?
- 🧠 뉴럴링크 인체 실험 성공?
- 📱 틱톡 미국 내 금지?

### 암호화폐 (Cryptocurrency) - 10+ 마켓
- ₿ 비트코인 $150,000 도달?
- Ξ 이더리움 ETF 승인?
- 💼 바이낸스 CZ 출소?
- ⚖️ 리플 SEC 소송 완전 승소?
- ◎ 솔라나 이더리움 TVL 초과?
- 🏛️ 미국 비트코인 전략 비축 창설?
- 🐕 도지코인 $1 도달?

### 엔터테인먼트 (Entertainment) - 30 마켓 🆕
- 🏆 오스카 2025: 오펜하이머 작품상?
- 🎤 테일러 스위프트 투어 역대 최고 수익?
- 📺 넷플릭스 3억 구독자 돌파?
- 🎬 마블 어벤져스 5 2025년 개봉?
- 🎵 BTS 멤버 전역 완료 2025?
- 💫 블랙핑크 YG 재계약?
- 🌟 뉴진스 빌보드 뮤직 어워드 수상?
- 🎨 스튜디오 지브리 신작 2025년?
- 🎮 GTA 6 2025년 출시?
- 🏆 롤 월드 챔피언십 2025 한국 개최?
- 🎮 닌텐도 스위치 2 출시?
- 📱 틱톡 미국 금지 시행?
- 🎬 원피스 실사 시즌 2 확정?
- 🎵 스포티파이 10억 사용자?
- 📺 디즈니+ 2억 구독자?
- ...외 15개 이벤트

### 경제 (Economy) - 30 마켓 🆕
- 💵 미국 연준 2025년 3회 이상 금리 인하?
- 📉 미국 2025년 경기 침체 진입?
- 📈 S&P 500 2025년 말 6000 달성?
- 💼 미국 실업률 5% 초과?
- 🇨🇳 중국 GDP 성장률 4% 미만?
- 💱 중국 위안화 달러당 7.5 돌파?
- 🏠 중국 부동산 시장 안정화?
- 🏦 일본은행 금리 1% 초과 인상?
- 💴 일본 엔화 달러당 130 이하?
- 📊 닛케이 225 40000 포인트?
- 🇰🇷 한국 GDP 성장률 3% 초과?
- 💱 한국 원화 달러당 1200 돌파?
- 💻 삼성전자 글로벌 반도체 매출 1위?
- 🌍 글로벌 무역량 감소?
- 💰 금 가격 온스당 $2500 초과?
- ...외 15개 이벤트

### 과학 (Science) - 30 마켓 🆕
- 🚀 SpaceX 스타십 화성 임무 성공?
- 🌙 아르테미스 3 달 착륙 성공?
- 🛰️ 중국 텐궁 우주정거장 확장?
- 🇯🇵 일본 SLIM 달 탐사선 작동?
- 💊 FDA 알츠하이머 예방 약물 승인?
- 💉 mRNA 암 백신 임상 성공?
- 🧬 CRISPR 치료 유전 질환 치료?
- ⏳ 노화 방지 약물 임상 수명 연장?
- 🤖 GPT-5 OpenAI 2025년 출시?
- 💻 구글 양자컴퓨터 RSA 암호 해독?
- 🇨🇳 중국 양자통신 네트워크 선도?
- 🏥 AI 의사 면허 시험 통과?
- ⚡ 핵융합 순에너지 증가 재현?
- 🔬 상온 초전도체 검증?
- 🧠 뇌-컴퓨터 인터페이스 음성 가능?
- ...외 15개 이벤트

### 기후 (Climate) - 30 마켓 🆕
- 🌡️ 2025년 역대 최고 기온 기록?
- 🧊 북극 해빙 최저 기록?
- 📊 지구 온도 기준선 대비 1.5°C 초과?
- 🏔️ 남극 빙붕 붕괴?
- 🌍 미국 파리 기후협정 재가입?
- 🇨🇳 중국 탄소 배출 정점?
- 🇪🇺 EU 배출 55% 감축 목표 달성?
- ☀️ 태양광 발전 전 세계 2000GW 초과?
- 💨 중국 풍력 발전 용량 2배?
- ⚡ 미국 재생에너지 전력망 30% 초과?
- 🇰🇷 한국 원전 확대 승인?
- 🌀 카테고리 5 허리케인 미국 본토?
- 🌊 해수면 상승 10cm 초과?
- 🌳 아마존 열대우림 벌채 50% 감소?
- 🔋 배터리 저장 용량 500GWh 초과?
- ...외 15개 이벤트

**모든 마켓은 실시간으로 업데이트되며, 다국어(한/영/중/일)를 완벽 지원합니다.**


## 🎨 테마 시스템

### 라이트 모드 (기본)
- ✅ **배경**: 흰색 (#ffffff)
- ✅ **글씨**: 검정색 (#000000)
- ✅ **카드**: 흰색 배경, 회색 테두리
- ✅ **액센트**: 블루 계열 (#3b82f6)

### 다크 모드
- ✅ **배경**: 검정색 (#000000)
- ✅ **글씨**: 하얀색 (#ffffff)
- ✅ **카드**: 어두운 회색 배경 (#1a1a1a)
- ✅ **액센트**: 라이트 블루 (#60a5fa)

### 테마 전환
- 🌙 **라이트 모드 버튼**: 달 아이콘 표시 (다크 모드로 전환)
- ☀️ **다크 모드 버튼**: 태양 아이콘 표시 (라이트 모드로 전환)
- 💾 **자동 저장**: 사용자 선호도가 localStorage에 저장됨
- 📱 **모바일 동일**: PC와 모바일 모두 동일한 테마 적용


## 📐 UI 최적화

### PC 화면 (데스크톱)
- ✅ **4열 그리드**: 한 줄에 4개의 이벤트 카드 표시 (1280px 이상)
- ✅ **3열 그리드**: 중간 화면에서 3개 카드 표시 (1024px-1280px)
- ✅ **컴팩트 카드**: 작은 패딩과 간결한 정보 표시
- ✅ **2개 결과 미리보기**: 주요 결과만 표시하고 나머지는 "+N more"
- ✅ **축약된 날짜**: "50d left" 형식으로 간결하게 표시

### 모바일 화면 (휴대폰) 🆕 최적화 완료
- ✅ **1열 그리드**: 세로 스크롤 최적화
- ✅ **초소형 패딩**: 0.625rem 패딩으로 공간 최대 절약
- ✅ **작은 글자 크기**:
  - h1: 1.125rem (헤더)
  - h2: 1rem (히어로 제목)
  - h3: 0.875rem (섹션 제목)
  - h4: 0.8rem (카드 제목)
  - 본문: 0.7-0.75rem
- ✅ **축약된 텍스트**: 제목 2줄, 설명 1줄로 제한
- ✅ **컴팩트 버튼**: 작은 폰트 및 패딩으로 공간 효율 향상
- ✅ **모달 최적화**: 90vh 최대 높이, 스크롤 가능
- ✅ **입력 폼 최적화**: 작은 폰트, 간격 최소화
- ✅ **히어로 섹션**: 축소된 제목 및 부제목
- ✅ **카테고리 버튼**: 작은 폰트, 말줄임 방지
- ✅ **간격 조정**: 모든 마진/패딩 축소 (mb-4→0.75rem, mb-6→1rem, mb-8→1.25rem)

### 태블릿 화면 (중간 크기) 🆕
- ✅ **2열 그리드**: 641px-1024px 화면에 최적화
- ✅ **중간 폰트 크기**: 데스크톱과 모바일 사이
- ✅ **적절한 간격**: 터치 친화적이면서 공간 효율적

### 카드 최적화
- 📏 **컴팩트 디자인**: 불필요한 공간 제거
- 🎯 **핵심 정보**: 제목, 상위 2개 결과, 거래량, 마감일
- 🚀 **빠른 로딩**: 간소화된 DOM 구조
- 📱 **터치 최적화**: 큰 터치 영역 유지 (모바일에서도 0.5rem 이상 간격)
- 🎨 **반응형 레이아웃**: 
  - 모바일: 1열 (100%)
  - 태블릿: 2열 (50%)
  - 중형 데스크톱: 3열 (33.33%)
  - 대형 데스크톱: 4열 (25%)

